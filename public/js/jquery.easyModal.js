!function(n){"use strict";var o={init:function(o){var e={top:"auto",autoOpen:!1,overlayOpacity:.5,overlayColor:"#000",overlayClose:!0,overlayParent:"body",closeOnEscape:!0,closeButtonClass:".close",transitionIn:"",transitionOut:"",onOpen:!1,onClose:!1,zIndex:function(){return function(n){return n===-1/0?0:n+1}(Math.max.apply(Math,n.makeArray(n("*").map(function(){return n(this).css("z-index")}).filter(function(){return n.isNumeric(this)}).map(function(){return parseInt(this,10)}))))},updateZIndexOnOpen:!0};return o=n.extend(e,o),this.each(function(){var e=o,t=n('<div class="lean-overlay"></div>'),i=n(this);t.css({display:"none",position:"fixed","z-index":e.updateZIndexOnOpen?0:e.zIndex(),top:0,left:0,height:"100%",width:"100%",background:e.overlayColor,opacity:e.overlayOpacity,overflow:"auto"}).appendTo(e.overlayParent),i.css({display:"none",position:"fixed","z-index":e.updateZIndexOnOpen?0:e.zIndex()+1,left:"50%",top:parseInt(e.top,10)>-1?e.top+"px":"50%"}),i.bind("openModal",function(){var n=e.updateZIndexOnOpen?e.zIndex():parseInt(t.css("z-index"),10),o=n+1;""!==e.transitionIn&&""!==e.transitionOut&&i.removeClass(e.transitionOut).addClass(e.transitionIn),i.css({display:"block","margin-left":-(i.outerWidth()/2)+"px","margin-top":(parseInt(e.top,10)>-1?0:-(i.outerHeight()/2))+"px","z-index":o}),t.css({"z-index":n,display:"block"}),e.onOpen&&"function"==typeof e.onOpen&&e.onOpen(i[0])}),i.bind("closeModal",function(){""!==e.transitionIn&&""!==e.transitionOut?(i.removeClass(e.transitionIn).addClass(e.transitionOut),i.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){i.css("display","none"),t.css("display","none")})):(i.css("display","none"),t.css("display","none")),e.onClose&&"function"==typeof e.onClose&&e.onClose(i[0])}),t.click(function(){e.overlayClose&&i.trigger("closeModal")}),n(document).keydown(function(n){e.closeOnEscape&&27===n.keyCode&&i.trigger("closeModal")}),i.on("click",e.closeButtonClass,function(n){i.trigger("closeModal"),n.preventDefault()}),e.autoOpen&&i.trigger("openModal")})}};n.fn.easyModal=function(e){return o[e]?o[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void n.error("Method "+e+" does not exist on jQuery.easyModal"):o.init.apply(this,arguments)}}(jQuery);