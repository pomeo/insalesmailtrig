$(document).ready(function(){$("#partner").click(function(){$(".b-partner").toggle("slow")}),$("body").on("change",".b-reg-input",function(){""!==$(this).val()?$(this).css({opacity:1}):""==$(this).val()&&$(this).css({opacity:0})}),$(".b-reg-input").on("click",function(){""!==$(this).val()?$(this).css({opacity:1}):""==$(this).val()&&$(this).css({opacity:0})}),$("#reg").validate({errorClass:"g-danger",validClass:"g-success",highlight:function(e,o,a){$(e).parent().addClass(o).removeClass(a)},unhighlight:function(e,o,a){$(e).parent().removeClass(o).addClass(a)},rules:{shop:{required:!0},email:{required:!0,email:!0},fio:{required:!0},phone:{required:!0}},messages:{login:{required:""},email:{required:"",email:""},password:{required:""},fio:{required:""},phone:{required:"",number:""}},submitHandler:function(e){return $(e).ajaxSubmit({success:function(e){"success"==e?window.location.replace("/dashboard"):$("#errorModal").easyModal("401"==e?{autoOpen:!0,overlayOpacity:.5,overlayColor:"#666",overlayClose:!0,closeOnEscape:!0,onOpen:function(e){$(e).text("Отсутствует логин")}}:"402"==e?{autoOpen:!0,overlayOpacity:.5,overlayColor:"#666",overlayClose:!0,closeOnEscape:!0,onOpen:function(e){$(e).text("Неправильный пароль")}}:"403"==e?{autoOpen:!0,overlayOpacity:.5,overlayColor:"#666",overlayClose:!0,closeOnEscape:!0,onOpen:function(e){$(e).text("Почта неправильного формата")}}:"404"==e?{autoOpen:!0,overlayOpacity:.5,overlayColor:"#666",overlayClose:!0,closeOnEscape:!0,onOpen:function(e){$(e).text("Пароль должен быть длиннее 6 символов")}}:"405"==e?{autoOpen:!0,overlayOpacity:.5,overlayColor:"#666",overlayClose:!0,closeOnEscape:!0,onOpen:function(e){$(e).text("Логин и пароль обязательны")}}:"406"==e?{autoOpen:!0,overlayOpacity:.5,overlayColor:"#666",overlayClose:!0,closeOnEscape:!0,onOpen:function(e){$(e).text("Почта уже используется")}}:{autoOpen:!0,overlayOpacity:.5,overlayColor:"#666",overlayClose:!0,closeOnEscape:!0,onOpen:function(o){$(o).text("Ошибка номер #"+e)}})}}),!1}}),$("#remember").validate({errorClass:"g-danger",validClass:"g-success",highlight:function(e,o,a){$(e).parent().addClass(o).removeClass(a)},unhighlight:function(e,o,a){$(e).parent().removeClass(o).addClass(a)},rules:{email:{required:!0,email:!0}},messages:{email:{required:"",email:""}},submitHandler:function(e){return $(e).ajaxSubmit({success:function(e){"success"==e&&window.location.replace("/login")}}),!1}}),$("#login").validate({errorClass:"g-danger",validClass:"g-success",highlight:function(e,o,a){$(e).parent().addClass(o).removeClass(a)},unhighlight:function(e,o,a){$(e).parent().removeClass(o).addClass(a)},rules:{login:{required:!0},pass:{required:!0}},messages:{login:{required:""},pass:{required:""}},submitHandler:function(e){return $(e).ajaxSubmit({success:function(e){"success"==e?window.location.replace("/dashboard"):$("#errorModal").easyModal("401"==e?{autoOpen:!0,overlayOpacity:.5,overlayColor:"#666",overlayClose:!0,closeOnEscape:!0,onOpen:function(e){$(e).text("Отсутствует логин")}}:"402"==e?{autoOpen:!0,overlayOpacity:.5,overlayColor:"#666",overlayClose:!0,closeOnEscape:!0,onOpen:function(e){$(e).text("Неправильный пароль")}}:"403"==e?{autoOpen:!0,overlayOpacity:.5,overlayColor:"#666",overlayClose:!0,closeOnEscape:!0,onOpen:function(e){$(e).text("Почта неправильного формата")}}:"404"==e?{autoOpen:!0,overlayOpacity:.5,overlayColor:"#666",overlayClose:!0,closeOnEscape:!0,onOpen:function(e){$(e).text("Пароль должен быть длиннее 6 символов")}}:"405"==e?{autoOpen:!0,overlayOpacity:.5,overlayColor:"#666",overlayClose:!0,closeOnEscape:!0,onOpen:function(e){$(e).text("Логин и пароль обязательны")}}:"406"==e?{autoOpen:!0,overlayOpacity:.5,overlayColor:"#666",overlayClose:!0,closeOnEscape:!0,onOpen:function(e){$(e).text("Почта уже используется")}}:{autoOpen:!0,overlayOpacity:.5,overlayColor:"#666",overlayClose:!0,closeOnEscape:!0,onOpen:function(o){$(o).text("Ошибка номер #"+e)}})}}),!1}}),$("body").on("click","#turn",function(){$.ajax({url:"/service"}).done(function(e){"on"==e?$("#turn").removeClass("b-turn-off").addClass("b-turn-on"):"off"==e?$("#turn").removeClass("b-turn-on").addClass("b-turn-off"):$("#errorModal").easyModal({autoOpen:!0,overlayOpacity:.5,overlayColor:"#666",overlayClose:!0,closeOnEscape:!0,onOpen:function(o){$(o).text("Ошибка номер #"+e)}})})})});